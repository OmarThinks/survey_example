<!DOCTYPE html>
<html>
<head>
	<title>Screen 3</title>
</head>
<style type="text/css">
*{
	font-family: arial;
	transition: .5s;
}


table
{
	width: 100%;
	margin: 0px;
	border-collapse: collapse;

}

th,td{
	align-content: center;
	
	margin: 0px;
	padding: .5em .75em;
	font-size: 1.3em;
	border: 0px;
	border: solid 1px black;
}


th{background: lime;text-align: left;}
td{background: white;text-align: center;}
.no-border{
	border-width: 0px;
}
.err_message{
	color: red;
}


#percentage_6
{}
.nav_button
{
	margin: 2em;padding: .8em;font-size: 1.2em;
	font-weight: bold;background: blue;
	color: white;
	border-radius: 1em;
	border:solid 2px blue;
}

.nav_button:hover
{
	color: black;
	background: lightblue;
}

</style>


</head>
<body>

<h1>New Branch Requirements Checklist:</h1>





<table>
	<tr>
		<td class="no-border"></td>
		<th colspan="3" style="text-align: center;">Preference</th>
		<th class="payment-plan-cell" colspan="3" style="text-align: center;">Willingness to Pay</th>
	</tr>
	<tr>
		<td class="no-border"></td>
		<th style="text-align: center;">Must have</th>
		<th style="text-align: center;">Like</th>
		<th style="text-align: center;">Do Not Need</th>
		<th class="payment-plan-cell" style="text-align: center;">Would Pay</th>
		<th class="payment-plan-cell" style="text-align: center;">Might Pay</th>
		<th class="payment-plan-cell" style="text-align: center;">Expect For Free</th>
	</tr>
	<tr>
		<th>Biometrics</th>
		<td><input type="radio" id="required_0"></td>
		<td><input type="radio" id="like_0"></td>
		<td><input type="radio" id="not_need_0"></td>
		<td><input type="radio" id="would_0"></td>
		<td><input type="radio" id="might_0"></td>
		<td><input type="radio" id="free_0"></td>
	</tr>
	<tr>
		<th>ID Card Reader</th>
		<td><input type="radio" id="required_1"></td>
		<td><input type="radio" id="like_1"></td>
		<td><input type="radio" id="not_need_1"></td>
		<td><input type="radio" id="would_1"></td>
		<td><input type="radio" id="might_1"></td>
		<td><input type="radio" id="free_1"></td>
	</tr>
</table>



<div style="display: flex;justify-content: center;">
<a href="screen_1.html">
	
	<button class="nav_button">&lt;&lt; Back</button>
</a>
<a href="">
	<button class="nav_button">Continue &gt;&gt;</button>
</a>
</div>

<script type="text/javascript">



class PaymentPlan{
	constructor(requirement_number)
	{
		this.requirement_number = requirement_number;
		
		this.would_input_element = 
		document.getElementById('would_'+requirement_number.toString());
		//console.log(this.would_input_element);

		this.would_input_cell = this.would_input_element.offsetParent;
		//console.log(this.would_input_cell);
		this.would_input_cell.id = 
		"would_cell_"+requirement_number.toString();

		this.might_input_element = 
		document.getElementById('might_'+requirement_number.toString());
		this.might_input_cell = this.might_input_element.offsetParent;
		this.might_input_cell.id = 
		"might_cell_"+requirement_number.toString();

		this.free_input_element = 
		document.getElementById('free_'+requirement_number.toString());
		this.free_input_cell = this.free_input_element.offsetParent;
		this.free_input_cell.id = 
		"free_cell_"+requirement_number.toString();

		this.selected=false;
		this.displayed=false;
	}




	unselect_would()
	{this.would_input_element.checked=false;}
	unselect_might()
	{this.might_input_element.checked=false;}
	unselect_free()
	{this.free_input_element.checked=false;}

	reset_selection()
	{this.unselect_would();this.unselect_might();this.unselect_free();}

	select_would()
	{
		this.reset_selection();
		this.would_input_element.checked=true;
		this.selected="would";
	}
	select_might()
	{
		this.reset_selection();
		this.might_input_element.checked=true;
		this.selected="might";
	}
	select_free()
	{
		this.reset_selection();
		this.free_input_element.checked=true;
		this.selected="free";
	}

	display()
	{
		this.would_input_element.style.display="";
		this.would_input_cell.style.display="table-cell";
		this.might_input_element.style.display="";
		this.might_input_cell.style.display="table-cell";
		this.free_input_element.style.display="";
		this.free_input_cell.style.display="table-cell";
		//this.reset_selection();		
	}
	hide()
	{
		this.would_input_element.style.display="none";
		this.would_input_cell.style.display="none";
		this.might_input_element.style.display="none";
		this.might_input_cell.style.display="none";
		this.free_input_element.style.display="none";
		this.free_input_cell.style.display="none";
		this.reset_selection();
	}
	enable()
	{
		this.would_input_element.style.display="";
		this.would_input_cell.style.background="white";
		this.might_input_element.style.display="";
		this.might_input_cell.style.background="white";
		this.free_input_element.style.display="";
		this.free_input_cell.style.background="white";
	}
	disable()
	{
		this.would_input_element.style.display="none";
		this.would_input_cell.style.background="grey";
		this.might_input_element.style.display="none";
		this.might_input_cell.style.background="grey";
		this.free_input_element.style.display="none";
		this.free_input_cell.style.background="grey";
		this.reset_selection();		
	}
}






class Requirement{
	constructor(requirement_number)
	{
		this.requirement_number = requirement_number;
		
		this.required_input_element = 
		document.getElementById('required_'+requirement_number.toString());
		this.required_input_cell = this.required_input_element.offsetParent;
		this.required_input_cell.id = 
		"required_cell_"+requirement_number.toString();

		this.like_input_element = 
		document.getElementById('like_'+requirement_number.toString());
		this.like_input_cell = this.like_input_element.offsetParent;
		this.like_input_cell.id = 
		"like_cell_"+requirement_number.toString();

		this.not_need_input_element = 
		document.getElementById('not_need_'+requirement_number.toString());
		this.not_need_input_cell = this.not_need_input_element.offsetParent;
		this.not_need_input_cell.id = 
		"not_need_cell_"+requirement_number.toString();

		this.selected=false;
		this.payment_plan = new PaymentPlan(requirement_number);
	}

	unselect_required()
	{this.required_input_element.checked=false;}
	unselect_like()
	{this.like_input_element.checked=false;}
	unselect_not_need()
	{this.not_need_input_element.checked=false;}

	reset_selection()
	{this.unselect_like();this.unselect_required();this.unselect_not_need();}

	select_required()
	{
		this.reset_selection();
		this.required_input_element.checked=true;
		this.selected="required";
	}
	select_like()
	{
		this.reset_selection();
		this.like_input_element.checked=true;
		this.selected="like";
	}
	select_not_need()
	{
		this.reset_selection();
		this.not_need_input_element.checked=true;
		this.selected="not_need";
	}

}






is_visible_payment_plan = true;






var requirements = [];
requirements[0] = new Requirement(0);
requirements[1] = new Requirement(1);






function get_target_number(event)
{
	let splitted = event.target.id.split("_");
	return parseInt(splitted[splitted.length-1]);
}

function get_target_name(event)
{
	let splitted = event.target.id.split("_");
	return splitted[0];
}





function hide_payment_plan()
{
	let cells=document.getElementsByClassName("payment-plan-cell");
	for (var i = cells.length - 1; i >= 0; i--) {
		cells[i].style.display="none";
	}
	for (var i = requirements.length - 1; i >= 0; i--) 
	{requirements[i].payment_plan.hide();}

	is_visible_payment_plan=false;
}




function view_payment_plan()
{
	let cells=document.getElementsByClassName("payment-plan-cell");
	for (var i = cells.length - 1; i >= 0; i--) {
		cells[i].style.display="table-cell";
	}
	for (var i = requirements.length - 1; i >= 0; i--) 
	{requirements[i].payment_plan.display();}
	is_visible_payment_plan=true;
}








function handle_selection(event)
{
	//console.log(is_visible_payment_plan);
	let target_number = get_target_number(event);
	let target_name = get_target_name(event);

	if (target_name=="required")
	{
		requirements[target_number].select_required();
		if (is_visible_payment_plan)
		{requirements[target_number].payment_plan.enable();}
		
	}
	else if (target_name=="like")
	{
		requirements[target_number].select_like();
		if (is_visible_payment_plan)
		{requirements[target_number].payment_plan.enable();}
	}
	else if (target_name=="not")
	{
		requirements[target_number].select_not_need();
		if (is_visible_payment_plan)
		{
			//console.log("I should disable");
			requirements[target_number].payment_plan.disable();
		}		
	}
	
	else if (target_name=="would")
	{requirements[target_number].payment_plan.select_would();return;}
	else if (target_name=="might")
	{requirements[target_number].payment_plan.select_might();return;}
	else if (target_name=="free")
	{requirements[target_number].payment_plan.select_free();return;}
	
	
	if (!is_visible_payment_plan) 
	{
		let is_all_selected = true;
		for (var i = requirements.length - 1; i >= 0; i--) 
		{if (!requirements[i].selected){is_all_selected=false;}}
		if (is_all_selected)
		{view_payment_plan()}
	}

}

//console.log(requirements);




for (var i = requirements.length - 1; i >= 0; i--) {
	requirements[i].reset_selection();
	requirements[i].required_input_element.addEventListener(
		"click",handle_selection);
	requirements[i].required_input_cell.addEventListener(
		"click",handle_selection);
	
	requirements[i].like_input_element.addEventListener(
		"click",handle_selection);
	requirements[i].like_input_cell.addEventListener(
		"click",handle_selection);
	
	requirements[i].not_need_input_element.addEventListener(
		"click",handle_selection);
	requirements[i].not_need_input_cell.addEventListener(
		"click",handle_selection);

	requirements[i].payment_plan.reset_selection();
	

	requirements[i].payment_plan.would_input_element.addEventListener(
		"click",handle_selection);
	requirements[i].payment_plan.would_input_cell.addEventListener(
		"click",handle_selection);
	
	requirements[i].payment_plan.might_input_element.addEventListener(
		"click",handle_selection);
	requirements[i].payment_plan.might_input_cell.addEventListener(
		"click",handle_selection);
	
	requirements[i].payment_plan.free_input_element.addEventListener(
		"click",handle_selection);
	requirements[i].payment_plan.free_input_cell.addEventListener(
		"click",handle_selection);
}

hide_payment_plan();



</script>


















</body>
</html>